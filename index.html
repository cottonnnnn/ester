<script>
  window.onload = function () {
    let prize = '';
    let clickCount = 0;

    const eggImage = document.getElementById('egg-image');
    const prizeText = document.getElementById('prize-text');

    const eggStages = [
      'egg1.png',         // Целое яйцо
      'egg2_cracked.png', // Треснутое
      'egg3_star.png'     // Подарок
    ];

    window.showEgg = function(selectedPrize) {
      prize = selectedPrize;
      clickCount = 0;
      eggImage.src = eggStages[0];
      document.getElementById('main-menu').style.display = 'none';
      document.getElementById('egg-screen').style.display = 'flex';
      prizeText.style.display = 'none';
    };

    window.revealPrize = function() {
      clickCount++;
      if (clickCount < eggStages.length) {
        eggImage.src = eggStages[clickCount];
      }
      if (clickCount === eggStages.length - 1) {
        prizeText.textContent = Выпало: ${prize};
        prizeText.style.display = 'block';
      }
    };

    window.goBack = function() {
      document.getElementById('main-menu').style.display = 'flex';
      document.getElementById('egg-screen').style.display = 'none';
    };
  };
</script>
